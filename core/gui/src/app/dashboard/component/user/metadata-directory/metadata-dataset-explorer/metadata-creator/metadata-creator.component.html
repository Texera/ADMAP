<div>
  <nz-spin
    [nzSpinning]="isCreating"
    nzSize="large"
    nzTip="Creating...">
    <div
      class="texera-user-metadata-creator-form"
      [ngClass]="{'disabled-backdrop': isCreating}">
      <div>
      <formly-form
        [form]="form"
        [fields]="fields"
        [model]="model"></formly-form>
      </div>

      <nz-switch
        *ngIf="!isCreatingMetadata"
        [ngModel]="isMetadataPublic"
        (ngModelChange)="onPublicStatusChange($event)"
        nzCheckedChildren="public"
        nzUnCheckedChildren="private"></nz-switch>
    </div>

    <button
      nz-button
      nzType="primary"
      (click)="onClickCreate()"
      [disabled]="isCreateButtonDisabled || isCreating"
      class="create-btn">
      Create
    </button>

    <button
      nz-button
      nzType="default"
      (click)="onClickCancel()"
      class="cancel-btn"
      [disabled]="isCreating">
      Cancel
    </button>
  </nz-spin>
</div>
